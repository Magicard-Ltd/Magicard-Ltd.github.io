<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>magpy.printer_event_manager API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9;--table-border-color:hsl(0,0%,95%);--table-alternate-bg:hsl(0,0%,97%);--table-header-bg:hsl(0,0%,80%)}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}table{margin:0 auto;border-collapse:collapse;width:100%}table td{padding:3px 10px;border:1px var(--table-border-color) solid}table thead{background:var(--table-header-bg);white-space:nowrap}table thead td{font-weight:700;border:none}table thead th{padding:3px 20px}table thead tr{border:1px var(--table-header-bg) solid}table tbody tr:nth-child(2n){background:var(--table-alternate-bg)}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML" integrity="sha256-kZafAc6mZvK3W3v1pHOcUix30OHQN6pU/NO2oFkqZVw=" crossorigin></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>magpy.printer_event_manager</code></h1>
</header>
<section id="section-intro">
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="magpy.printer_event_manager.events" href="events.html">magpy.printer_event_manager.events</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="magpy.printer_event_manager.network_event_stream" href="network_event_stream.html">magpy.printer_event_manager.network_event_stream</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="magpy.printer_event_manager.PrinterEventManager"><code class="flex name class">
<span>class <span class="ident">PrinterEventManager</span></span>
<span>(</span><span>stream: Union[str, Type[<a title="magpy.printer_event_manager.events.EventStream" href="events.html#magpy.printer_event_manager.events.EventStream">EventStream</a>]] = 'localhost', logger: Callable[[str], NoneType] = &lt;built-in function print&gt;)</span>
</code></dt>
<dd>
<div class="desc"><p>A class that can retrieve events from Magicard's Generation 2 printers
and invoke user defined handlers.</p>
<p>Initialise a <code><a title="magpy.printer_event_manager.PrinterEventManager" href="#magpy.printer_event_manager.PrinterEventManager">PrinterEventManager</a></code>.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>stream</code></strong></dt>
<dd>The stream to use when retrieving events (or an IP/ network
address, to default to using a <code>NetworkEventStream</code>).</dd>
<dt><strong><code>logger</code></strong></dt>
<dd>A callable object/ function to use for internal logging.</dd>
</dl></div>
<h3>Methods</h3>
<dl>
<dt id="magpy.printer_event_manager.PrinterEventManager.clear_handler"><code class="name flex">
<span>def <span class="ident">clear_handler</span></span>(<span>self, id: <a title="magpy.printer_event_manager.events.EventId" href="events.html#magpy.printer_event_manager.events.EventId">EventId</a>, handler: Callable[[<a title="magpy.printer_event_manager.events.EventData" href="events.html#magpy.printer_event_manager.events.EventData">EventData</a>], NoneType] = None) ‑> NoneType</span>
</code></dt>
<dd>
<div class="desc"><p>Clear an event handler.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>id</code></strong></dt>
<dd>The EventId to clear the handler for.</dd>
<dt><strong><code>handler</code></strong></dt>
<dd>The EventHandler to clear. If none then all handlers for
this EventId are cleared.</dd>
</dl></div>
</dd>
<dt id="magpy.printer_event_manager.PrinterEventManager.events_forever"><code class="name flex">
<span>def <span class="ident">events_forever</span></span>(<span>self) ‑> NoneType</span>
</code></dt>
<dd>
<div class="desc"><p>Manage events forever.</p></div>
</dd>
<dt id="magpy.printer_event_manager.PrinterEventManager.events_running"><code class="name flex">
<span>def <span class="ident">events_running</span></span>(<span>self) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Check if the events are currently running.</p>
<p>Note that this works for running events in a background thread (via
<code>start_events()</code> and <code>stop_events()</code>) and for running events in the
calling thread (via <code>events_forever()</code>).</p>
<h2 id="returns">Returns</h2>
<p><code>True</code> if, and only if, the events are currently running.</p></div>
</dd>
<dt id="magpy.printer_event_manager.PrinterEventManager.record_events"><code class="name flex">
<span>def <span class="ident">record_events</span></span>(<span>self, end_event: <a title="magpy.printer_event_manager.events.EventId" href="events.html#magpy.printer_event_manager.events.EventId">EventId</a>, end_timeout: int = 60000, start_event: <a title="magpy.printer_event_manager.events.EventId" href="events.html#magpy.printer_event_manager.events.EventId">EventId</a> = None, start_timeout: int = 5000) ‑> List[<a title="magpy.printer_event_manager.RecordedEvent" href="#magpy.printer_event_manager.RecordedEvent">RecordedEvent</a>]</span>
</code></dt>
<dd>
<div class="desc"><p>Record printer events up until a defined ending event.</p>
<p>Note that this method waits for the ending event up until a specified
timeout (1 minute by default). If a timeout does occur, then a list of
events up until that point is returned.
You can optionally specify a starting event. If this is specified then
this method waits for this event to occur before it starts adding
events to the list to be returned. Similar to the end event, there is
also a timeout while waiting for the start event (5 seconds by
default). If this timeout occurs then an empty list is returned.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>end_event</code></strong></dt>
<dd>The event at which this method will stop recording.</dd>
<dt><strong><code>end_timeout</code></strong></dt>
<dd>The time to wait, in ms, before this method stops
recording if it has not seen <code>end_event</code>.</dd>
<dt><strong><code>start_event</code></strong></dt>
<dd>The optional event at which to start recording. If
this isn't provided then we start recording as soon as the call
is made.</dd>
<dt><strong><code>start_timeout</code></strong></dt>
<dd>The time to wait, in ms, before timing out if
start_event is provided and we haven't seen it yet.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>A potentially empty list of recorded events.</p></div>
</dd>
<dt id="magpy.printer_event_manager.PrinterEventManager.register_handler"><code class="name flex">
<span>def <span class="ident">register_handler</span></span>(<span>self, id: <a title="magpy.printer_event_manager.events.EventId" href="events.html#magpy.printer_event_manager.events.EventId">EventId</a>, handler: Callable[[<a title="magpy.printer_event_manager.events.EventData" href="events.html#magpy.printer_event_manager.events.EventData">EventData</a>], NoneType]) ‑> NoneType</span>
</code></dt>
<dd>
<div class="desc"><p>Register an event handler.</p>
<p>Note that handler must return None, and take an EventData object
as a parameter, even if it does not use it.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>id</code></strong></dt>
<dd>The EventId to register the handler for.</dd>
<dt><strong><code>handler</code></strong></dt>
<dd>The EventHandler to register.</dd>
</dl></div>
</dd>
<dt id="magpy.printer_event_manager.PrinterEventManager.start_events"><code class="name flex">
<span>def <span class="ident">start_events</span></span>(<span>self) ‑> NoneType</span>
</code></dt>
<dd>
<div class="desc"><p>Start managing events.</p>
<p>Note this is done in a worker thread.</p></div>
</dd>
<dt id="magpy.printer_event_manager.PrinterEventManager.stop_events"><code class="name flex">
<span>def <span class="ident">stop_events</span></span>(<span>self) ‑> NoneType</span>
</code></dt>
<dd>
<div class="desc"><p>Stop managing events.</p></div>
</dd>
</dl>
</dd>
<dt id="magpy.printer_event_manager.RecordedEvent"><code class="flex name class">
<span>class <span class="ident">RecordedEvent</span></span>
<span>(</span><span>id: <a title="magpy.printer_event_manager.events.EventId" href="events.html#magpy.printer_event_manager.events.EventId">EventId</a>, parameters: <a title="magpy.printer_event_manager.events.EventData" href="events.html#magpy.printer_event_manager.events.EventData">EventData</a>, time: float)</span>
</code></dt>
<dd>
<div class="desc"><p>A record of a printer event and its associated data.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>id</code></strong></dt>
<dd>The recorded event's EventId.</dd>
<dt><strong><code>parameters</code></strong></dt>
<dd>The recorded event's EventData.</dd>
<dt><strong><code>time</code></strong></dt>
<dd>The recorded event's timestamp (as a float).</dd>
</dl>
<p>Initialise a <code><a title="magpy.printer_event_manager.RecordedEvent" href="#magpy.printer_event_manager.RecordedEvent">RecordedEvent</a></code> object.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>id</code></strong></dt>
<dd>The <code>EventId</code> of the <code><a title="magpy.printer_event_manager.RecordedEvent" href="#magpy.printer_event_manager.RecordedEvent">RecordedEvent</a></code>.</dd>
<dt><strong><code>parameters</code></strong></dt>
<dd>The <code>EventData</code> sent with the event being recorded.</dd>
<dt><strong><code>time</code></strong></dt>
<dd>A timestamp representing the time at which the event was
emitted.</dd>
</dl></div>
<h3>Instance variables</h3>
<dl>
<dt id="magpy.printer_event_manager.RecordedEvent.id"><code class="name">var <span class="ident">id</span></code></dt>
<dd>
<div class="desc"><p>The <code>EventId</code> of the <code><a title="magpy.printer_event_manager.RecordedEvent" href="#magpy.printer_event_manager.RecordedEvent">RecordedEvent</a></code>.</p></div>
</dd>
<dt id="magpy.printer_event_manager.RecordedEvent.parameters"><code class="name">var <span class="ident">parameters</span></code></dt>
<dd>
<div class="desc"><p>The <code>EventData</code> sent with the event being recorded.</p></div>
</dd>
<dt id="magpy.printer_event_manager.RecordedEvent.time"><code class="name">var <span class="ident">time</span></code></dt>
<dd>
<div class="desc"><p>A timestamp representing the time at which the event was emitted.</p></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="magpy.printer_event_manager.RecordedEvent.as_dict"><code class="name flex">
<span>def <span class="ident">as_dict</span></span>(<span>self) ‑> Dict[str, Union[<a title="magpy.printer_event_manager.events.EventId" href="events.html#magpy.printer_event_manager.events.EventId">EventId</a>, <a title="magpy.printer_event_manager.events.EventData" href="events.html#magpy.printer_event_manager.events.EventData">EventData</a>, float]]</span>
</code></dt>
<dd>
<div class="desc"><p>Retreive this instance of RecordedEvent as a dictionary.</p>
<h2 id="returns">Returns</h2>
<p>This instance of RecordedEvent as a dictionary.</p></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="magpy" href="../index.html">magpy</a></code></li>
</ul>
</li>
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="magpy.printer_event_manager.events" href="events.html">magpy.printer_event_manager.events</a></code></li>
<li><code><a title="magpy.printer_event_manager.network_event_stream" href="network_event_stream.html">magpy.printer_event_manager.network_event_stream</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="magpy.printer_event_manager.PrinterEventManager" href="#magpy.printer_event_manager.PrinterEventManager">PrinterEventManager</a></code></h4>
<ul class="two-column">
<li><code><a title="magpy.printer_event_manager.PrinterEventManager.clear_handler" href="#magpy.printer_event_manager.PrinterEventManager.clear_handler">clear_handler</a></code></li>
<li><code><a title="magpy.printer_event_manager.PrinterEventManager.events_forever" href="#magpy.printer_event_manager.PrinterEventManager.events_forever">events_forever</a></code></li>
<li><code><a title="magpy.printer_event_manager.PrinterEventManager.events_running" href="#magpy.printer_event_manager.PrinterEventManager.events_running">events_running</a></code></li>
<li><code><a title="magpy.printer_event_manager.PrinterEventManager.record_events" href="#magpy.printer_event_manager.PrinterEventManager.record_events">record_events</a></code></li>
<li><code><a title="magpy.printer_event_manager.PrinterEventManager.register_handler" href="#magpy.printer_event_manager.PrinterEventManager.register_handler">register_handler</a></code></li>
<li><code><a title="magpy.printer_event_manager.PrinterEventManager.start_events" href="#magpy.printer_event_manager.PrinterEventManager.start_events">start_events</a></code></li>
<li><code><a title="magpy.printer_event_manager.PrinterEventManager.stop_events" href="#magpy.printer_event_manager.PrinterEventManager.stop_events">stop_events</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="magpy.printer_event_manager.RecordedEvent" href="#magpy.printer_event_manager.RecordedEvent">RecordedEvent</a></code></h4>
<ul class="">
<li><code><a title="magpy.printer_event_manager.RecordedEvent.as_dict" href="#magpy.printer_event_manager.RecordedEvent.as_dict">as_dict</a></code></li>
<li><code><a title="magpy.printer_event_manager.RecordedEvent.id" href="#magpy.printer_event_manager.RecordedEvent.id">id</a></code></li>
<li><code><a title="magpy.printer_event_manager.RecordedEvent.parameters" href="#magpy.printer_event_manager.RecordedEvent.parameters">parameters</a></code></li>
<li><code><a title="magpy.printer_event_manager.RecordedEvent.time" href="#magpy.printer_event_manager.RecordedEvent.time">time</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>